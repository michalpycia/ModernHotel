{% extends 'reservations.html' %}
{% load static %}
{% block content %}
    <script type="text/JavaScript" src="{% static 'reservations.js' %}"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
    <ul>
        <li id="all_li">All reservations</li>
        <li id="current_li">Current</li>
        <li id="newest_li">Newest</li>
        <li id="expected_li">Arrivals</li>
        <li id="past_li">Past</li>
        <li id="cancelled_li">Cancelled</li>
    </ul>
    <div>
        <form action="" method="post">
            <input type="text" name="reservation_search">
            <input type="submit" value="Search">
            {% csrf_token %}
        </form>
    </div>
    <div id="all_div" class="reservation">

        <h1>All reservations</h1>
    <div>
        <table>
            <thead>
            <tr class="d-flex">
                <th scope="col" class="col-1">Reservation</th>
                <th scope="col" class="col-2">Room number</th>
                <th scope="col" class="col-2">Price for day</th>
                <th scope="col" class="col-2">Dates</th>
                <th scope="col" class="col-2">Days</th>
                <th scope="col" class="col-2">Client Name</th>
                <th scope="col" class="col-2">Client Surname</th>
                <th scope="col" class="col-2">Arrival</th>
                <th scope="col" class="col-2">Comments</th>
                <th scope="col" class="col-2">Contact</th>
                <th scope="col" class="col-2">Charge</th>
                <th scope="col" class="col-2">Edit</th>
            </tr>
            </thead>
            <tbody class="text-color-lighter">
            {% for res in all_res %}
                <tr class="d-flex" id="expected_table">
                    <th scope="row" class="col-1">{{ res.id }}</th>
                    <th class="col-2">{{ res.room }}</th>
                    <td class="col-2">{{ res.price_for_day }} $</td>
                    <td class="col-2">{{ res.date_range }}</td>
                    <td class="col-2">{{ res.duration }}</td>
                    <td class="col-2">{{ res.client_name }}</td>
                    <td class="col-2">{{ res.client_surname }}</td>
                    <td class="col-2">{{ res.arrival }}</td>
                    <td class="col-2">{{ res.comment }}</td>
                    <td class="col-2">{{ res.contact_number }}</td>
                    <td class="col-2">{{ res.charge }}$</td>
                    <th scope="row" class="col-1"><a href="reservations/{{ res.id }}" style="color: #FFFFFF">Click</a></th>
                </tr>
            {% endfor %}
            </tbody>
        </table>
        <hr>
        <div class="pagination">
    <span class="step-links">
        {% if all_res.has_previous %}
            <a href="?page=1">&laquo; pierwsza</a>
            <a href="?page={{ all_res.previous_page_number }}">poprzednia</a>
        {% endif %}
      {% for pg in all_res.paginator.page_range %}
        {% if all_res.number == pg %}
          <a href="?page={{pg}}" style="display: inline-flex">{{pg}}</a> |
        {% else %}
          <a href="?page={{pg}}" style="display: inline-flex">{{pg}}</a> |
        {% endif %}
      {% endfor %}
        {% if all_res.has_next %}
            <a href="?page={{ all_res.next_page_number }}">nastÄ™pna</a>
            <a href="?page={{ all_res.paginator.num_pages }}">ostatnia&raquo;</a>
        {% endif %}
    </span>
</div>
</div>
    </div>
{% endblock %}